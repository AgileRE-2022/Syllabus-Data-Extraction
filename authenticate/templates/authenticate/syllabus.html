{% extends 'authenticate/base.html' %}

{% block content %}
<h1> Syllabus</h1>

{% if user.is_authenticated %}
    <div class="row mt-4">
        <div class="col-12 col-md-6">
            {% comment %} <p>Name: {{user.first_name}} {{ user.last_name}}</p> {% endcomment %}
            <form action="" style="max-width: 550px;" class="d-flex align-items-center flex-column" enctype="multipart/form-data" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <h4 for="file" class="text-center fw-bold mb-4">Input field (pdf)</h4>
                    <div class="card p-5 shadow">
                        <img src="https://icons-for-free.com/download-icon-upload+icon-1320183845588203011_512.png" class="img-fluid" alt="">
                        <label for="">File 1</label>
                        <input class="form-control" type="file" name="document" id="file" accept=".pdf">
                        <label class="mt-3">File 2</label>
                        <input class="form-control" type="file" name="document2" id="file" accept=".pdf">
                        <button class="btn btn-primary mt-4" type="submit">Submit</button>
                        <span class="mt-3 font-italic">*Upload file silabus berformat pdf</span>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-12 col-md-6">
            <h4 class="text-center fw-bold mb-4">Topic Modelling Result</h4>
            <div class="card p-5 shadow">
                <canvas id="word_cloud" width="400" height="200"></canvas>
                <hr>
                <h4 id="head1"></h4>
                <ul id="content1" class="mb-0">
                </ul>
                <!-- <h4 id="head2"></h4>
                <ul id="content2">
                </ul> -->
            </div>
        </div>
        {% if extracted_text %}
        <div class="card p-3 my-4">
            <br>
            <h4>Regular Expression Result</h4>
            <p class="mb-2 mt-3"><strong>Judul Silabus : </strong>{{ title }}</p>
            <p class="mb-2"><strong>Universitas : </strong>{{ university }}</p>
            <p><strong>Konten Silabus : </strong> <span>{{ content }}</span></p>
            <p><strong>Pre-processed Silabus : </strong> <span id="extracted_text">{{ extracted_text }}</span></p>
        </div>
        {% endif %}
    </div>
{% endif %}

<script src="https://pulipulichen.github.io/blogger/posts/2016/11/r-text-mining/wordcloud2.js"></script>
{% load static %}
<script src="{% static '/bundle.js' %}"></script> 
{% endblock %}
